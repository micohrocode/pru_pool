{"ast":null,"code":"import rides from \"../data/rides.json\";\nimport requests from \"../data/requests.json\";\nfunction viewAllRides() {\n  // show all available rides\n  // Returns iterable of all ride's information\n  //No null check, assume json file will always be populated\n  let all_rides = rides[\"rides\"].filter(user => user.passengers.length < user.car_capacity);\n  return all_rides;\n}\nfunction viewFilteredRides(xid) {\n  // show all rides that meet the filters\n  // returns iterable of all filtered ride's information\n  // returns false if user's request.json preferences arent set up.\n  try {\n    let user_pref = requests[\"requests\"].find(requests => requests.user === xid);\n    if (user_pref === undefined) {\n      console.log(\"user \", xid, \" does not have request information set up.\");\n      return false;\n    }\n    if (user_pref === undefined) {\n      console.log(\"user preferences are undefined for \", xid);\n      return false;\n    } else {\n      let days = user_pref.days;\n      let dropoff = user_pref.drop_off;\n      let filtered_rides = rides[\"rides\"].filter(user => (user.days & days) > 0 && user.passengers.length < user.car_capacity && dropoff === user.drop_off);\n      if (filtered_rides.length === 0) {\n        return false;\n      }\n      return filtered_rides;\n    }\n  } catch (e) {\n    console.log(e.message);\n  }\n}\nexport { viewAllRides, viewFilteredRides };","map":{"version":3,"names":["rides","requests","viewAllRides","all_rides","filter","user","passengers","length","car_capacity","viewFilteredRides","xid","user_pref","find","undefined","console","log","days","dropoff","drop_off","filtered_rides","e","message"],"sources":["/Users/ryanw/Desktop/pru-hackathon/pru_pool/pru_pool/src/backend/function_calls/ride_calls.tsx"],"sourcesContent":["import rides from \"../data/rides.json\"\nimport requests from \"../data/requests.json\"\nimport users from \"../data/users.json\"\n\nfunction viewAllRides(){\n    // show all available rides\n    // Returns iterable of all ride's information\n    //No null check, assume json file will always be populated\n    let all_rides = rides[\"rides\"].filter((user)=> user.passengers.length < user.car_capacity)\n    return all_rides;\n}\n\nfunction viewFilteredRides(xid: string){\n    // show all rides that meet the filters\n    // returns iterable of all filtered ride's information\n    // returns false if user's request.json preferences arent set up.\n    try{\n        let user_pref = requests[\"requests\"].find((requests)=> requests.user === xid)\n        if (user_pref === undefined) {\n            console.log(\"user \", xid, \" does not have request information set up.\")\n            return false\n        }\n        if (user_pref === undefined) {\n            console.log(\"user preferences are undefined for \", xid)\n            return false\n        } else{\n            let days = user_pref.days\n            let dropoff = user_pref.drop_off\n            let filtered_rides = rides[\"rides\"].filter((user)=> (user.days & days) > 0 && user.passengers.length < user.car_capacity && dropoff === user.drop_off)\n            if (filtered_rides.length === 0){\n                return false\n            }\n            return filtered_rides;\n        }\n    }\n    catch (e){\n        console.log((e as Error).message);\n    }\n}\n\nexport {\n    viewAllRides,\n    viewFilteredRides\n}\n\n\n\n\n\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,oBAAoB;AACtC,OAAOC,QAAQ,MAAM,uBAAuB;AAG5C,SAASC,YAAYA,CAAA,EAAE;EACnB;EACA;EACA;EACA,IAAIC,SAAS,GAAGH,KAAK,CAAC,OAAO,CAAC,CAACI,MAAM,CAAEC,IAAI,IAAIA,IAAI,CAACC,UAAU,CAACC,MAAM,GAAGF,IAAI,CAACG,YAAY,CAAC;EAC1F,OAAOL,SAAS;AACpB;AAEA,SAASM,iBAAiBA,CAACC,GAAW,EAAC;EACnC;EACA;EACA;EACA,IAAG;IACC,IAAIC,SAAS,GAAGV,QAAQ,CAAC,UAAU,CAAC,CAACW,IAAI,CAAEX,QAAQ,IAAIA,QAAQ,CAACI,IAAI,KAAKK,GAAG,CAAC;IAC7E,IAAIC,SAAS,KAAKE,SAAS,EAAE;MACzBC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEL,GAAG,EAAE,4CAA4C,CAAC;MACvE,OAAO,KAAK;IAChB;IACA,IAAIC,SAAS,KAAKE,SAAS,EAAE;MACzBC,OAAO,CAACC,GAAG,CAAC,qCAAqC,EAAEL,GAAG,CAAC;MACvD,OAAO,KAAK;IAChB,CAAC,MAAK;MACF,IAAIM,IAAI,GAAGL,SAAS,CAACK,IAAI;MACzB,IAAIC,OAAO,GAAGN,SAAS,CAACO,QAAQ;MAChC,IAAIC,cAAc,GAAGnB,KAAK,CAAC,OAAO,CAAC,CAACI,MAAM,CAAEC,IAAI,IAAI,CAACA,IAAI,CAACW,IAAI,GAAGA,IAAI,IAAI,CAAC,IAAIX,IAAI,CAACC,UAAU,CAACC,MAAM,GAAGF,IAAI,CAACG,YAAY,IAAIS,OAAO,KAAKZ,IAAI,CAACa,QAAQ,CAAC;MACtJ,IAAIC,cAAc,CAACZ,MAAM,KAAK,CAAC,EAAC;QAC5B,OAAO,KAAK;MAChB;MACA,OAAOY,cAAc;IACzB;EACJ,CAAC,CACD,OAAOC,CAAC,EAAC;IACLN,OAAO,CAACC,GAAG,CAAEK,CAAC,CAAWC,OAAO,CAAC;EACrC;AACJ;AAEA,SACInB,YAAY,EACZO,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}